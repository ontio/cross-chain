# 中继链的治理机制

## 节点治理

### 新节点加入

新节点想参与中继链的网络共识需要现有共识节点的批准，新节点先在中继链上提出申请，现有共识节点对该申请进行投票签名，超过三分之二的共识节点同意，则新节点加入网络，先成为候选节点。

### 共识切换

中继链采用vbft共识算法，每隔6w（可配置）个区块，进行一次共识节点切换，目前中继链的策略是所有的节点（包括共识节点和新申请的候选节点）都在周期切换后成为共识节点。因此新节点加入后将在下个周期成为共识节点。

### 节点退出

节点可以选择退出中继链网络，分两种情况：1.若是在候选节点状态下退出，则可以立即关机退出，下个周期不会被选为共识节点。2.若是在共识节点状态下退出，因为共识周期内共识节点保持不变，因此该节点不能立即关机退出，必须等到共识周期切换后，新共识节点选出，该节点才可以关机退出。否则将按照共识节点宕机处理。

### 节点作恶

若在网络运行过程中发现节点作恶，则当前共识节点可以发起投票，将某个作恶节点拉黑并踢出网络，这里又分为两种情况：1.若作恶节点是候选节点，则直接踢出，下次共识周期切换后其不会被选择成为共识节点。2.若作恶节点是共识节点，则踢出后自动切换共识周期，选出新的共识节点。

## 侧链治理

### 新侧链加入

新侧链加入跨链也需要现有共识节点的批准，新侧链先在中继链上提出申请，现有共识节点对该申请进行投票签名，超过三分之二的共识节点同意，则新侧链加入网络。

### 侧链信息的升级

侧链的注册信息需要升级时，需要注册侧链的账户提出升级申请，现有共识节点对该申请进行投票签名，超过三分之二的共识节点同意，则更新侧链的注册信息。

### 侧链的退出

侧链需要退出时，需要注册侧链的账户提出退出申请，现有共识节点对该申请进行投票签名，超过三分之二的共识节点同意，则侧链退出跨链。需要注意的是，共识节点在同意侧链退出之前必须验证侧链上的跨链资产已经全部转回源链。

### BTC信托地址的绑定

由于btc不支持智能合约，因此不同于其他链锁定资产，释放资产的资产转移方式，btc采用信托多签地址来进行资产的锁定和释放，用户在使用信托地址前，需要信任该地址。目前跨链协议支持任何一个机构成为信托地址，用户可以选择信任其中任何一个信托地址。

信托地址和其在其他链上发行的btcx资产地址是绑定的，一个信托地址对应于每条链上单一的btcx资产地址。因此用户选择不同的信托地址进行锁定会得到其他链上不同的btcx资产。信托地址和btcx资产地址的绑定关系需要验证信托地址的签名。

